<h2><%= @giftmoji.name %></h2>

<h3> Tagline: <%= @giftmoji.tag %> </h3>
<h4> Price: <%= @giftmoji.price %></h4>
<% if @giftmoji.user_id %>
<h4> Owned by: <%= @giftmoji.user.fullname %></h4>
<% end %>

<h3>Emotions:</h3>
<p> <% @giftmoji.emotions.each do |emo| %>
<%= emo.name %>
<% end %>

<% if @giftmoji.user_id.nil? %>
<h3> Buy this Gimoji: </h3>
<!-- Alternative way of doing:
<form action="/giftmojis/<%= @giftmoji.id%>/buy" method="post">
<input id="hidden" type="hidden" name="_method" value="patch">
<input type="submit" value="Buy Giftmoji" name="Buy Giftmoji" id="Buy Giftmoji">
</form> -->
<%= form_for @giftmoji, url:user_path(@user) do |f|%>
<%= f.hidden_field :id, :value => @giftmoji.id %> <!-- Need to test this -->
<%= f.submit "Buy Giftmoji"%>
<% end %>
<% end %>

<% if giftmoji_gifted? && giftmoji_owner? %>
<h3> This was gifted </h3>
<h3>Occasion: <%= @giftmoji.occasion.name %></h3>
<h3>Message: <%= @giftmoji.message %></h3>
<h3>Gifted by: <%= @giftmoji.gifted_by %></h3>
<% end %>

<% if !giftmoji_gifted? && giftmoji_owner? %>
<h3>Gift this Giftmoji:</h3>
<%= form_for @giftmoji do |f| %>
<%= f.label "Gift Recipient:" %>
<%= f.collection_select :user_id, User.all, :id, :username, include_blank: 'Any'%><br/>
<%= f.label "Occasion" %>
<%= f.collection_select :occasion_id, Occasion.all, :id, :name, include_blank: 'Any'%></br>
<%= f.label "Message:" %> (Please sign the message.)
<%= f.text_area :message %><br/><br/>
<%= f.submit "Gift Giftmoji" %>
<% end %>
<% end %>
